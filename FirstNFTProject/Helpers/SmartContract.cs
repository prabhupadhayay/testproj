using ERC721ContractLibrary.Contracts.ERC721PresetMinterPauserAutoId;
using ERC721ContractLibrary.Contracts.ERC721PresetMinterPauserAutoId.ContractDefinition;
using FirstNFTProject.Models;
using Nethereum.ABI.FunctionEncoding.Attributes;
using Nethereum.Contracts;
using Nethereum.Web3;
using Nethereum.Web3.Accounts;
using NFT.DAL;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Numerics;
using System.Threading.Tasks;
using System.Web;

namespace FirstNFTProject.Helpers
{
    public class SmartContract 
    {
       static readonly NFTProjectEntities NFTProjectEntities = new NFTProjectEntities();

        public static async System.Threading.Tasks.Task<string> DeploySmartContract()
        {

            try
            {

                //Deploy Smart Contract 



                return "";

            }
            catch (Exception ex)
            {
                throw ex;
            }
        }

        // To deploy a contract we will create a class inheriting from the ContractDeploymentMessage, 
        // here we can include our compiled byte code and other constructor parameters.
        // As we can see below the StandardToken deployment message includes the compiled bytecode 
        // of the ERC20 smart contract and the constructor parameter with the “totalSupply” of tokens.
        // Each parameter is described with an attribute Parameter, including its name "totalSupply", type "uint256" and order.

        public class StandardTokenDeployment : ContractDeploymentMessage
        {

            #region Byte code
            public static string BYTECODE =
                "60806040523480156200001157600080fd5b506040516200437f3803806200437f833981810160405260608110156200003757600080fd5b81019080805160405193929190846401000000008211156200005857600080fd5b838201915060208201858111156200006f57600080fd5b82518660018202830111640100000000821117156200008d57600080fd5b8083526020830192505050908051906020019080838360005b83811015620000c3578082015181840152602081019050620000a6565b50505050905090810190601f168015620000f15780820380516001836020036101000a031916815260200191505b50604052602001805160405193929190846401000000008211156200011557600080fd5b838201915060208201858111156200012c57600080fd5b82518660018202830111640100000000821117156200014a57600080fd5b8083526020830192505050908051906020019080838360005b838110156200018057808201518184015260208101905062000163565b50505050905090810190601f168015620001ae5780820380516001836020036101000a031916815260200191505b5060405260200180516040519392919084640100000000821115620001d257600080fd5b83820191506020820185811115620001e957600080fd5b82518660018202830111640100000000821117156200020757600080fd5b8083526020830192505050908051906020019080838360005b838110156200023d57808201518184015260208101905062000220565b50505050905090810190601f1680156200026b5780820380516001836020036101000a031916815260200191505b5060405250505082826200028c6301ffc9a760e01b6200040d60201b60201c565b8160079080519060200190620002a4929190620006c8565b508060089080519060200190620002bd929190620006c8565b50620002d66380ac58cd60e01b6200040d60201b60201c565b620002ee635b5e139f60e01b6200040d60201b60201c565b6200030663780e9d6360e01b6200040d60201b60201c565b50506000600b60006101000a81548160ff021916908315150217905550620003476000801b6200033b6200051660201b60201c565b6200051e60201b60201c565b6200039d60405180807f4d494e5445525f524f4c45000000000000000000000000000000000000000000815250600b0190506040518091039020620003916200051660201b60201c565b6200051e60201b60201c565b620003f360405180807f5041555345525f524f4c45000000000000000000000000000000000000000000815250600b0190506040518091039020620003e76200051660201b60201c565b6200051e60201b60201c565b62000404816200053460201b60201c565b50505062000777565b63ffffffff60e01b817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19161415620004aa576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601c8152602001807f4552433136353a20696e76616c696420696e746572666163652069640000000081525060200191505060405180910390fd5b6001806000837bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916815260200190815260200160002060006101000a81548160ff02191690831515021790555050565b600033905090565b6200053082826200055060201b60201c565b5050565b80600a90805190602001906200054c929190620006c8565b5050565b6200057e81600080858152602001908152602001600020600001620005f360201b62002bdc1790919060201c565b15620005ef57620005946200051660201b60201c565b73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45b5050565b600062000623836000018373ffffffffffffffffffffffffffffffffffffffff1660001b6200062b60201b60201c565b905092915050565b60006200063f8383620006a560201b60201c565b6200069a5782600001829080600181540180825580915050600190039060005260206000200160009091909190915055826000018054905083600101600084815260200190815260200160002081905550600190506200069f565b600090505b92915050565b600080836001016000848152602001908152602001600020541415905092915050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200070b57805160ff19168380011785556200073c565b828001600101855582156200073c579182015b828111156200073b5782518255916020019190600101906200071e565b5b5090506200074b91906200074f565b5090565b6200077491905b808211156200077057600081600090555060010162000756565b5090565b90565b613bf880620007876000396000f3fe608060405234801561001057600080fd5b50600436106101f05760003560e01c80636a6278421161010f578063a22cb465116100a2578063d539139311610071578063d539139314610bc3578063d547741f14610be1578063e63ab1e914610c2f578063e985e9c514610c4d576101f0565b8063a22cb46514610985578063b88d4fde146109d5578063c87b56dd14610ada578063ca15c87314610b81576101f0565b80639010d07c116100de5780639010d07c1461080657806391d148541461087e57806395d89b41146108e4578063a217fddf14610967576101f0565b80636a627842146106dd5780636c0360eb1461072157806370a08231146107a45780638456cb59146107fc576101f0565b80632f745c591161018757806342966c681161015657806342966c68146105dd5780634f6ccce71461060b5780635c975abb1461064d5780636352211e1461066f576101f0565b80632f745c59146104b557806336568abe146105175780633f4ba83a1461056557806342842e0e1461056f576101f0565b806318160ddd116101c357806318160ddd1461039957806323b872dd146103b7578063248a9ca3146104255780632f2ff15d14610467576101f0565b806301ffc9a7146101f557806306fdde031461025a578063081812fc146102dd578063095ea7b31461034b575b600080fd5b6102406004803603602081101561020b57600080fd5b8101908080357bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19169060200190929190505050610cc9565b604051808215151515815260200191505060405180910390f35b610262610d31565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156102a2578082015181840152602081019050610287565b50505050905090810190601f1680156102cf5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b610309600480360360208110156102f357600080fd5b8101908080359060200190929190505050610dd3565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6103976004803603604081101561036157600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610e6e565b005b6103a1610fb2565b6040518082815260200191505060405180910390f35b610423600480360360608110156103cd57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610fc3565b005b6104516004803603602081101561043b57600080fd5b8101908080359060200190929190505050611039565b6040518082815260200191505060405180910390f35b6104b36004803603604081101561047d57600080fd5b8101908080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611058565b005b610501600480360360408110156104cb57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506110e1565b6040518082815260200191505060405180910390f35b6105636004803603604081101561052d57600080fd5b8101908080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061113c565b005b61056d6111d5565b005b6105db6004803603606081101561058557600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919050505061127a565b005b610609600480360360208110156105f357600080fd5b810190808035906020019092919050505061129a565b005b6106376004803603602081101561062157600080fd5b810190808035906020019092919050505061130c565b6040518082815260200191505060405180910390f35b61065561132f565b604051808215151515815260200191505060405180910390f35b61069b6004803603602081101561068557600080fd5b8101908080359060200190929190505050611346565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b61071f600480360360208110156106f357600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061137d565b005b610729611438565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561076957808201518184015260208101905061074e565b50505050905090810190601f1680156107965780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6107e6600480360360208110156107ba57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506114da565b6040518082815260200191505060405180910390f35b6108046115af565b005b61083c6004803603604081101561081c57600080fd5b810190808035906020019092919080359060200190929190505050611654565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6108ca6004803603604081101561089457600080fd5b8101908080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611685565b604051808215151515815260200191505060405180910390f35b6108ec6116b6565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561092c578082015181840152602081019050610911565b50505050905090810190601f1680156109595780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b61096f611758565b6040518082815260200191505060405180910390f35b6109d36004803603604081101561099b57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080351515906020019092919050505061175f565b005b610ad8600480360360808110156109eb57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919080359060200190640100000000811115610a5257600080fd5b820183602082011115610a6457600080fd5b80359060200191846001830284011164010000000083111715610a8657600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050611917565b005b610b0660048036036020811015610af057600080fd5b810190808035906020019092919050505061198f565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610b46578082015181840152602081019050610b2b565b50505050905090810190601f168015610b735780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b610bad60048036036020811015610b9757600080fd5b8101908080359060200190929190505050611c60565b6040518082815260200191505060405180910390f35b610bcb611c86565b6040518082815260200191505060405180910390f35b610c2d60048036036040811015610bf757600080fd5b8101908080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611cbf565b005b610c37611d48565b6040518082815260200191505060405180910390f35b610caf60048036036040811015610c6357600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611d81565b604051808215151515815260200191505060405180910390f35b600060016000837bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916815260200190815260200160002060009054906101000a900460ff169050919050565b606060078054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610dc95780601f10610d9e57610100808354040283529160200191610dc9565b820191906000526020600020905b815481529060010190602001808311610dac57829003601f168201915b5050505050905090565b6000610dde82611e15565b610e33576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602c815260200180613a11602c913960400191505060405180910390fd5b6005600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b6000610e7982611346565b90508073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610f00576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526021815260200180613a956021913960400191505060405180910390fd5b8073ffffffffffffffffffffffffffffffffffffffff16610f1f611e32565b73ffffffffffffffffffffffffffffffffffffffff161480610f4e5750610f4d81610f48611e32565b611d81565b5b610fa3576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260388152602001806139646038913960400191505060405180910390fd5b610fad8383611e3a565b505050565b6000610fbe6003611ef3565b905090565b610fd4610fce611e32565b82611f08565b611029576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526031815260200180613ab66031913960400191505060405180910390fd5b611034838383611ffc565b505050565b6000806000838152602001908152602001600020600201549050919050565b61107e60008084815260200190815260200160002060020154611079611e32565b611685565b6110d3576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602f81526020018061381f602f913960400191505060405180910390fd5b6110dd828261223f565b5050565b600061113482600260008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206122d290919063ffffffff16565b905092915050565b611144611e32565b73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16146111c7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602f815260200180613b94602f913960400191505060405180910390fd5b6111d182826122ec565b5050565b61121b60405180807f5041555345525f524f4c45000000000000000000000000000000000000000000815250600b0190506040518091039020611216611e32565b611685565b611270576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526040815260200180613b546040913960400191505060405180910390fd5b61127861237f565b565b61129583838360405180602001604052806000815250611917565b505050565b6112ab6112a5611e32565b82611f08565b611300576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526030815260200180613b246030913960400191505060405180910390fd5b61130981612480565b50565b6000806113238360036125ba90919063ffffffff16565b50905080915050919050565b6000600b60009054906101000a900460ff16905090565b6000611376826040518060600160405280602981526020016139c66029913960036125e99092919063ffffffff16565b9050919050565b6113c360405180807f4d494e5445525f524f4c45000000000000000000000000000000000000000000815250600b01905060405180910390206113be611e32565b611685565b611418576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252603d815260200180613ae7603d913960400191505060405180910390fd5b61142b81611426600c612608565b612616565b611435600c61280a565b50565b6060600a8054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156114d05780601f106114a5576101008083540402835291602001916114d0565b820191906000526020600020905b8154815290600101906020018083116114b357829003601f168201915b5050505050905090565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415611561576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602a81526020018061399c602a913960400191505060405180910390fd5b6115a8600260008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020612820565b9050919050565b6115f560405180807f5041555345525f524f4c45000000000000000000000000000000000000000000815250600b01905060405180910390206115f0611e32565b611685565b61164a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252603e815260200180613880603e913960400191505060405180910390fd5b611652612835565b565b600061167d8260008086815260200190815260200160002060000161293790919063ffffffff16565b905092915050565b60006116ae8260008086815260200190815260200160002060000161295190919063ffffffff16565b905092915050565b606060088054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561174e5780601f106117235761010080835404028352916020019161174e565b820191906000526020600020905b81548152906001019060200180831161173157829003601f168201915b5050505050905090565b6000801b81565b611767611e32565b73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415611808576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260198152602001807f4552433732313a20617070726f766520746f2063616c6c65720000000000000081525060200191505060405180910390fd5b8060066000611815611e32565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff166118c2611e32565b73ffffffffffffffffffffffffffffffffffffffff167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c3183604051808215151515815260200191505060405180910390a35050565b611928611922611e32565b83611f08565b61197d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526031815260200180613ab66031913960400191505060405180910390fd5b61198984848484612981565b50505050565b606061199a82611e15565b6119ef576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602f815260200180613a66602f913960400191505060405180910390fd5b6060600960008481526020019081526020016000208054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611a985780601f10611a6d57610100808354040283529160200191611a98565b820191906000526020600020905b815481529060010190602001808311611a7b57829003601f168201915b505050505090506060611aa9611438565b9050600081511415611abf578192505050611c5b565b600082511115611b905780826040516020018083805190602001908083835b60208310611b015780518252602082019150602081019050602083039250611ade565b6001836020036101000a03801982511681845116808217855250505050505090500182805190602001908083835b60208310611b525780518252602082019150602081019050602083039250611b2f565b6001836020036101000a0380198251168184511680821785525050505050509050019250505060405160208183030381529060405292505050611c5b565b80611b9a856129f3565b6040516020018083805190602001908083835b60208310611bd05780518252602082019150602081019050602083039250611bad565b6001836020036101000a03801982511681845116808217855250505050505090500182805190602001908083835b60208310611c215780518252602082019150602081019050602083039250611bfe565b6001836020036101000a03801982511681845116808217855250505050505090500192505050604051602081830303815290604052925050505b919050565b6000611c7f600080848152602001908152602001600020600001612b23565b9050919050565b60405180807f4d494e5445525f524f4c45000000000000000000000000000000000000000000815250600b019050604051809103902081565b611ce560008084815260200190815260200160002060020154611ce0611e32565b611685565b611d3a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260308152602001806139346030913960400191505060405180910390fd5b611d4482826122ec565b5050565b60405180807f5041555345525f524f4c45000000000000000000000000000000000000000000815250600b019050604051809103902081565b6000600660008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b6000611e2b826003612b3890919063ffffffff16565b9050919050565b600033905090565b816005600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff16611ead83611346565b73ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a45050565b6000611f0182600001612b52565b9050919050565b6000611f1382611e15565b611f68576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602c815260200180613908602c913960400191505060405180910390fd5b6000611f7383611346565b90508073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff161480611fe257508373ffffffffffffffffffffffffffffffffffffffff16611fca84610dd3565b73ffffffffffffffffffffffffffffffffffffffff16145b80611ff35750611ff28185611d81565b5b91505092915050565b8273ffffffffffffffffffffffffffffffffffffffff1661201c82611346565b73ffffffffffffffffffffffffffffffffffffffff1614612088576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526029815260200180613a3d6029913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141561210e576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260248152602001806138be6024913960400191505060405180910390fd5b612119838383612b63565b612124600082611e3a565b61217581600260008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020612b7390919063ffffffff16565b506121c781600260008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020612b8d90919063ffffffff16565b506121de81836003612ba79092919063ffffffff16565b50808273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a4505050565b61226681600080858152602001908152602001600020600001612bdc90919063ffffffff16565b156122ce57612273611e32565b73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45b5050565b60006122e18360000183612c0c565b60001c905092915050565b61231381600080858152602001908152602001600020600001612c8f90919063ffffffff16565b1561237b57612320611e32565b73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16837ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b60405160405180910390a45b5050565b61238761132f565b6123f9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260148152602001807f5061757361626c653a206e6f742070617573656400000000000000000000000081525060200191505060405180910390fd5b6000600b60006101000a81548160ff0219169083151502179055507f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa61243d611e32565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a1565b600061248b82611346565b905061249981600084612b63565b6124a4600083611e3a565b600060096000848152602001908152602001600020805460018160011615610100020316600290049050146124f3576009600083815260200190815260200160002060006124f29190613764565b5b61254482600260008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020612b7390919063ffffffff16565b50612559826003612cbf90919063ffffffff16565b5081600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a45050565b6000806000806125cd8660000186612cd9565b915091508160001c8160001c8090509350935050509250929050565b60006125fc846000018460001b84612d72565b60001c90509392505050565b600081600001549050919050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614156126b9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260208152602001807f4552433732313a206d696e7420746f20746865207a65726f206164647265737381525060200191505060405180910390fd5b6126c281611e15565b15612735576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601c8152602001807f4552433732313a20746f6b656e20616c7265616479206d696e7465640000000081525060200191505060405180910390fd5b61274160008383612b63565b61279281600260008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020612b8d90919063ffffffff16565b506127a981836003612ba79092919063ffffffff16565b50808273ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a45050565b6001816000016000828254019250508190555050565b600061282e82600001612e68565b9050919050565b61283d61132f565b156128b0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260108152602001807f5061757361626c653a207061757365640000000000000000000000000000000081525060200191505060405180910390fd5b6001600b60006101000a81548160ff0219169083151502179055507f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a2586128f4611e32565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a1565b60006129468360000183612c0c565b60001c905092915050565b6000612979836000018373ffffffffffffffffffffffffffffffffffffffff1660001b612e79565b905092915050565b61298c848484611ffc565b61299884848484612e9c565b6129ed576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252603281526020018061384e6032913960400191505060405180910390fd5b50505050565b60606000821415612a3b576040518060400160405280600181526020017f30000000000000000000000000000000000000000000000000000000000000008152509050612b1e565b600082905060005b60008214612a65578080600101915050600a8281612a5d57fe5b049150612a43565b6060816040519080825280601f01601f191660200182016040528015612a9a5781602001600182028038833980820191505090505b50905060006001830390508593505b60008414612b1657600a8481612abb57fe5b0660300160f81b82828060019003935081518110612ad557fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600a8481612b0e57fe5b049350612aa9565b819450505050505b919050565b6000612b3182600001612e68565b9050919050565b6000612b4a836000018360001b6130e1565b905092915050565b600081600001805490509050919050565b612b6e838383613104565b505050565b6000612b85836000018360001b613172565b905092915050565b6000612b9f836000018360001b61325a565b905092915050565b6000612bd3846000018460001b8473ffffffffffffffffffffffffffffffffffffffff1660001b6132ca565b90509392505050565b6000612c04836000018373ffffffffffffffffffffffffffffffffffffffff1660001b61325a565b905092915050565b600081836000018054905011612c6d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260228152602001806137d26022913960400191505060405180910390fd5b826000018281548110612c7c57fe5b9060005260206000200154905092915050565b6000612cb7836000018373ffffffffffffffffffffffffffffffffffffffff1660001b613172565b905092915050565b6000612cd1836000018360001b6133a6565b905092915050565b60008082846000018054905011612d3b576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260228152602001806139ef6022913960400191505060405180910390fd5b6000846000018481548110612d4c57fe5b906000526020600020906002020190508060000154816001015492509250509250929050565b60008084600101600085815260200190815260200160002054905060008114158390612e39576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b83811015612dfe578082015181840152602081019050612de3565b50505050905090810190601f168015612e2b5780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b50846000016001820381548110612e4c57fe5b9060005260206000209060020201600101549150509392505050565b600081600001805490509050919050565b600080836001016000848152602001908152602001600020541415905092915050565b6000612ebd8473ffffffffffffffffffffffffffffffffffffffff166134bf565b612eca57600190506130d9565b606061306063150b7a0260e01b612edf611e32565b888787604051602401808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200183815260200180602001828103825283818151815260200191508051906020019080838360005b83811015612f8f578082015181840152602081019050612f74565b50505050905090810190601f168015612fbc5780820380516001836020036101000a031916815260200191505b5095505050505050604051602081830303815290604052907bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff838183161783525050505060405180606001604052806032815260200161384e603291398773ffffffffffffffffffffffffffffffffffffffff166134d29092919063ffffffff16565b9050600081806020019051602081101561307957600080fd5b8101908080519060200190929190505050905063150b7a0260e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614925050505b949350505050565b600080836001016000848152602001908152602001600020541415905092915050565b61310f8383836134ea565b61311761132f565b1561316d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602b8152602001806137f4602b913960400191505060405180910390fd5b505050565b6000808360010160008481526020019081526020016000205490506000811461324e57600060018203905060006001866000018054905003905060008660000182815481106131bd57fe5b90600052602060002001549050808760000184815481106131da57fe5b906000526020600020018190555060018301876001016000838152602001908152602001600020819055508660000180548061321257fe5b60019003818190600052602060002001600090559055866001016000878152602001908152602001600020600090556001945050505050613254565b60009150505b92915050565b60006132668383612e79565b6132bf5782600001829080600181540180825580915050600190039060005260206000200160009091909190915055826000018054905083600101600084815260200190815260200160002081905550600190506132c4565b600090505b92915050565b60008084600101600085815260200190815260200160002054905060008114156133715784600001604051806040016040528086815260200185815250908060018154018082558091505060019003906000526020600020906002020160009091909190915060008201518160000155602082015181600101555050846000018054905085600101600086815260200190815260200160002081905550600191505061339f565b8285600001600183038154811061338457fe5b90600052602060002090600202016001018190555060009150505b9392505050565b600080836001016000848152602001908152602001600020549050600081146134b357600060018203905060006001866000018054905003905060008660000182815481106133f157fe5b906000526020600020906002020190508087600001848154811061341157fe5b906000526020600020906002020160008201548160000155600182015481600101559050506001830187600101600083600001548152602001908152602001600020819055508660000180548061346457fe5b60019003818190600052602060002090600202016000808201600090556001820160009055505090558660010160008781526020019081526020016000206000905560019450505050506134b9565b60009150505b92915050565b600080823b905060008111915050919050565b60606134e184846000856134ef565b90509392505050565b505050565b60608247101561354a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260268152602001806138e26026913960400191505060405180910390fd5b613553856134bf565b6135c5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601d8152602001807f416464726573733a2063616c6c20746f206e6f6e2d636f6e747261637400000081525060200191505060405180910390fd5b600060608673ffffffffffffffffffffffffffffffffffffffff1685876040518082805190602001908083835b6020831061361557805182526020820191506020810190506020830392506135f2565b6001836020036101000a03801982511681845116808217855250505050505090500191505060006040518083038185875af1925050503d8060008114613677576040519150601f19603f3d011682016040523d82523d6000602084013e61367c565b606091505b509150915061368c828286613698565b92505050949350505050565b606083156136a85782905061375d565b6000835111156136bb5782518084602001fd5b816040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b83811015613722578082015181840152602081019050613707565b50505050905090810190601f16801561374f5780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b9392505050565b50805460018160011615610100020316600290046000825580601f1061378a57506137a9565b601f0160209004906000526020600020908101906137a891906137ac565b5b50565b6137ce91905b808211156137ca5760008160009055506001016137b2565b5090565b9056fe456e756d657261626c655365743a20696e646578206f7574206f6620626f756e64734552433732315061757361626c653a20746f6b656e207472616e73666572207768696c6520706175736564416363657373436f6e74726f6c3a2073656e646572206d75737420626520616e2061646d696e20746f206772616e744552433732313a207472616e7366657220746f206e6f6e20455243373231526563656976657220696d706c656d656e7465724552433732315072657365744d696e7465725061757365724175746f49643a206d75737420686176652070617573657220726f6c6520746f2070617573654552433732313a207472616e7366657220746f20746865207a65726f2061646472657373416464726573733a20696e73756666696369656e742062616c616e636520666f722063616c6c4552433732313a206f70657261746f7220717565727920666f72206e6f6e6578697374656e7420746f6b656e416363657373436f6e74726f6c3a2073656e646572206d75737420626520616e2061646d696e20746f207265766f6b654552433732313a20617070726f76652063616c6c6572206973206e6f74206f776e6572206e6f7220617070726f76656420666f7220616c6c4552433732313a2062616c616e636520717565727920666f7220746865207a65726f20616464726573734552433732313a206f776e657220717565727920666f72206e6f6e6578697374656e7420746f6b656e456e756d657261626c654d61703a20696e646578206f7574206f6620626f756e64734552433732313a20617070726f76656420717565727920666f72206e6f6e6578697374656e7420746f6b656e4552433732313a207472616e73666572206f6620746f6b656e2074686174206973206e6f74206f776e4552433732314d657461646174613a2055524920717565727920666f72206e6f6e6578697374656e7420746f6b656e4552433732313a20617070726f76616c20746f2063757272656e74206f776e65724552433732313a207472616e736665722063616c6c6572206973206e6f74206f776e6572206e6f7220617070726f7665644552433732315072657365744d696e7465725061757365724175746f49643a206d7573742068617665206d696e74657220726f6c6520746f206d696e744552433732314275726e61626c653a2063616c6c6572206973206e6f74206f776e6572206e6f7220617070726f7665644552433732315072657365744d696e7465725061757365724175746f49643a206d75737420686176652070617573657220726f6c6520746f20756e7061757365416363657373436f6e74726f6c3a2063616e206f6e6c792072656e6f756e636520726f6c657320666f722073656c66a2646970667358221220beca11ed9f176f2945dddf6db567351d741c504000ab156b06f9832fe406980164736f6c63430006020033";

            #endregion
            public StandardTokenDeployment() : base(BYTECODE)
            {
            }

            [Parameter("string", "name")]
            public string name { get; set; }

            [Parameter("string", "symbol")]
            public string symbol { get; set; }

            [Parameter("string", "baseURI")]
            public string baseURI { get; set; }
        }

        public static async Task<string> Deploy()
        {

            try
            {
                //  Instantiating Web3 and the Account

                // To create an instance of web3 we first provide the url of our testchain and the private key of our account. 
                // When providing an Account instantiated with a  private key all our transactions will be signed “offline” by Nethereum.

                // var url = "http://testchain.nethereum.com:8545";
                var url = "https://ropsten.infura.io/v3/80027fdf3ae7419d8ff275e66a6c6b43";
                //var privateKey = "0x7580e7fb49df1c861f0050fae31c2224c6aba908e116b8da44ee8cd927b990b0";

                var privateKey = "a9a715a89c9a91a3adf8eba19a7c4494e30f32c88d2b20902a3b885f72eef1b7";

                var account = new Nethereum.Web3.Accounts.Account(privateKey);

                var web3 = new Web3(account, url);

                //  Deploying the Contract
                // The next step is to deploy our Standard Token ERC20 smart contract, in this scenario the total supply (number of tokens) is going to be 100,000.
                // First we create an instance of the StandardTokenDeployment with the TotalSupply amount.

                var deploymentMessage = new StandardTokenDeployment
                {
                    name = "Prabhakar",
                    symbol = "PRA",
                    baseURI = "https://gateway.ipfs.io/ipfs/QmNanQgJSqonHTW5ReNKtGTPMTLry46AUq5ggwwBw2mhLq"
                };

                // Then we create a deployment handler using our contract deployment definition and simply deploy the contract using the deployment message. We are auto estimating the gas, getting the latest gas price and nonce so nothing else is set anything on the deployment message.
                // Finally, we wait for the deployment transaction to be mined, and retrieve the contract address of the new contract from the receipt.

                var deploymentHandler = web3.Eth.GetContractDeploymentHandler<StandardTokenDeployment>();

                //var transactionReceipt = await deploymentHandler.SendRequestAndWaitForReceiptAsync(deploymentMessage);

                var transactionReceipt = await deploymentHandler.SendRequestAndWaitForReceiptAsync(deploymentMessage);

                var contractAddress = transactionReceipt.ContractAddress;

                return contractAddress;

                //Console.WriteLine("Deployed Contract address is: " + contractAddress);
            }
           catch(Exception ex)
            {
                throw ex;
            }
        }


        public static async System.Threading.Tasks.Task<DeployedSmartcontractResponse> callRPCAsync(string ItemIpfsUrl , string TOWalletAddress,string NFTName , string NFTSymbol)
        {

            try
            {
                var privateKey = "a9a715a89c9a91a3adf8eba19a7c4494e30f32c88d2b20902a3b885f72eef1b7";
                var url = "https://ropsten.infura.io/v3/80027fdf3ae7419d8ff275e66a6c6b43";
                var account = new Nethereum.Web3.Accounts.Account(privateKey);

                var web3 = new Web3(account, url);
                //var web3 = _ethereumClientIntegrationFixture.GetWeb3();

                //using https://my-json-server.typicode.com/ to host the metadata database, this creates and auto json server api based on data hosted in github
                //see https://github.com/juanfranblanco/samplenftdb/blob/main/db.json as an example
                var erc721PresetMinter = new ERC721PresetMinterPauserAutoIdDeployment()
                {
                    BaseURI = ItemIpfsUrl,
                    Name = NFTName,
                    Symbol = NFTSymbol
                };

                //Deploy the erc721Minter
                var deploymentReceipt = await ERC721PresetMinterPauserAutoIdService.DeployContractAndWaitForReceiptAsync(web3, erc721PresetMinter);

                var erc721PresetMinterService = new ERC721PresetMinterPauserAutoIdService(web3, deploymentReceipt.ContractAddress);

                var addressToGiveFirstToken = "0x7cf3d430042244bB1321F978354D3d9389765890";

                var mintReceipt = await erc721PresetMinterService.MintRequestAndWaitForReceiptAsync(
                    addressToGiveFirstToken);
                

                var ercSafeTransferParam = new TransferFromFunction()
                {
                    To = TOWalletAddress,
                    From = addressToGiveFirstToken,
                    TokenId = 0,
                };
                var deploymentReceipt2 = await erc721PresetMinterService.TransferFromRequestAsync(ercSafeTransferParam);

             
                //we have just minted our first nft so the nft will have the id of 0. 
                var ownerOfTokem = await erc721PresetMinterService.OwnerOfQueryAsync(0);

                DeployedSmartcontractResponse deployedSmartcontractResponse = new DeployedSmartcontractResponse();
                deployedSmartcontractResponse.ByteCode = erc721PresetMinter.ByteCode;
                //deployedSmartcontractResponse.GasPrice = erc721PresetMinter.GasPrice.ToString();
                deployedSmartcontractResponse.ContractAddress = deploymentReceipt.ContractAddress;
                deployedSmartcontractResponse.OwnerOfToken = TOWalletAddress;
                deployedSmartcontractResponse.NFTSymbol = erc721PresetMinter.Symbol;
                deployedSmartcontractResponse.NFTName = erc721PresetMinter.Name;
                return deployedSmartcontractResponse;
            }
            catch (Exception ex)
            {
                throw ex;
            }
        }


        public static async System.Threading.Tasks.Task<string> Owner(string ContractAddress)
        {

            try
            {
                var privateKey = "a9a715a89c9a91a3adf8eba19a7c4494e30f32c88d2b20902a3b885f72eef1b7";
                var url = "https://ropsten.infura.io/v3/80027fdf3ae7419d8ff275e66a6c6b43";
                var account = new Nethereum.Web3.Accounts.Account(privateKey);

                var web3 = new Web3(account, url);
                
                //var web3 = _ethereumClientIntegrationFixture.GetWeb3();

                //using https://my-json-server.typicode.com/ to host the metadata database, this creates and auto json server api based on data hosted in github
                //see https://github.com/juanfranblanco/samplenftdb/blob/main/db.json as an example

                 ContractAddress = "0x619a5e667ffc738b3c3ddb12538868e33755d590";
               

                var erc721PresetMinterService = new ERC721PresetMinterPauserAutoIdService(web3, ContractAddress);

                //var addressToGiveFirstToken = "0x7cf3d430042244bB1321F978354D3d9389765890";

                //var mintReceipt = await erc721PresetMinterService.MintRequestAndWaitForReceiptAsync(
                //    addressToGiveFirstToken);


                //var ercSafeTransferParam = new TransferFromFunction()
                //{
                //    To = TOWalletAddress,
                //    From = addressToGiveFirstToken,
                //    TokenId = 0,
                //};
                //var deploymentReceipt2 = await erc721PresetMinterService.TransferFromRequestAsync(ercSafeTransferParam);


                //we have just minted our first nft so the nft will have the id of 0. 
                //var ownerOfToken = await erc721PresetMinterService.toke("0x3743486ff0544B115b30C08B10a9D9cd9b9c603D", 0);
                //var ownerOfToken = await erc721PresetMinterService.OwnerOfQueryAsync(0);

                
                return "";
            }
            catch (Exception ex)
            {
                throw ex;
            }
        }


        public static async System.Threading.Tasks.Task<string> TransferToken(string ContractAddress,string TOWalletAddress)
        {

            try
            {
                var privateKey = "a9a715a89c9a91a3adf8eba19a7c4494e30f32c88d2b20902a3b885f72eef1b7";
                var url = "https://ropsten.infura.io/v3/80027fdf3ae7419d8ff275e66a6c6b43";
                var account = new Nethereum.Web3.Accounts.Account(privateKey);

                var web3 = new Web3(account, url);

                //var web3 = _ethereumClientIntegrationFixture.GetWeb3();

                //using https://my-json-server.typicode.com/ to host the metadata database, this creates and auto json server api based on data hosted in github
                //see https://github.com/juanfranblanco/samplenftdb/blob/main/db.json as an example

                ContractAddress = "0x619a5e667ffc738b3c3ddb12538868e33755d590";


                var erc721PresetMinterService = new ERC721PresetMinterPauserAutoIdService(web3, ContractAddress);

                var addressToGiveFirstToken = "0x7cf3d430042244bB1321F978354D3d9389765890";

                //var mintReceipt = await erc721PresetMinterService.MintRequestAndWaitForReceiptAsync(
                //    addressToGiveFirstToken);


                var ercSafeTransferParam = new TransferFromFunction()
                {
                    To = TOWalletAddress,
                    From = addressToGiveFirstToken,
                    TokenId = 0,
                };
                var deploymentReceipt2 = await erc721PresetMinterService.TransferFromRequestAsync(ercSafeTransferParam);


                //we have just minted our first nft so the nft will have the id of 0. 
                //var ownerOfToken = await erc721PresetMinterService.toke("0x3743486ff0544B115b30C08B10a9D9cd9b9c603D", 0);
                //var ownerOfToken = await erc721PresetMinterService.OwnerOfQueryAsync(0);


                return deploymentReceipt2;
            }
            catch (Exception ex)
            {
                throw ex;
            }
        }


    }
}